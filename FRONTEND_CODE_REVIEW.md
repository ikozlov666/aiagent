# –ö–æ–¥-—Ä–µ–≤—å—é —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ AI Agent Platform

## –†–µ–∑—é–º–µ

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ —Ü–µ–ª–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –ø–æ–Ω—è—Ç–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ (React 18, Vite, Zustand, Tailwind). –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å API (—Ç–æ–∫–µ–Ω –Ω–µ –≤–µ–∑–¥–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è), –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `try/catch` –≤–º–µ—Å—Ç–æ Error Boundary, –ª–∏—à–Ω–∏–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∞–≥–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –ù–∏–∂–µ ‚Äî –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.

---

## 1. –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1.1 –¢–æ–∫–µ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö —Ñ–∞–π–ª–æ–≤

**–§–∞–π–ª—ã:** `FileTree.jsx`, `Editor.jsx`

–ó–∞–ø—Ä–æ—Å—ã –∫ `/api/projects/{id}/files`, `/api/projects/{id}/files/read`, `/api/projects/{id}/files/write` –∏–¥—É—Ç –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Authorization: Bearer <token>`. –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è —ç—Ç–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 401.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í—ã–Ω–µ—Å—Ç–∏ –æ–±—ë—Ä—Ç–∫—É –Ω–∞–¥ `fetch` (–∏–ª–∏ –æ–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç) —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π —Ç–æ–∫–µ–Ω–∞ –∏–∑ —Å—Ç–æ—Ä–∞, –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –≤–µ–∑–¥–µ. –õ–∏–±–æ –≤ —Å—Ç–æ—Ä–µ –∑–∞–≤–µ—Å—Ç–∏ `getAuthHeaders()` –∏ –≤—ã–∑—ã–≤–∞—Ç—å –µ–≥–æ –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫ API.

### 1.2 ¬´Error boundary¬ª –≤ App ‚Äî –Ω–µ Error Boundary

**–§–∞–π–ª:** `App.jsx`, —Å—Ç—Ä–æ–∫–∏ 378‚Äì411

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `try { return ... } catch (error) { ... }` –≤–æ–∫—Ä—É–≥ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞. –¢–∞–∫ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞. –û—à–∏–±–∫–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ `useEffect` –∏–ª–∏ –ø–æ—Å–ª–µ `await`) –∏–ª–∏ –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –≤–æ –≤—Ä–µ–º—è —Ä–µ–Ω–¥–µ—Ä–∞ –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç ¬´–ø–∞–¥–∞—Ç—å¬ª —Ü–µ–ª–∏–∫–æ–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Error Boundary ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å `static getDerivedStateFromError` –∏ `componentDidCatch`, –æ–±–æ—Ä–∞—á–∏–≤–∞—é—â–∏–π –¥–µ—Ä–µ–≤–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∏–ª–∏ —Ö–æ—Ç—è –±—ã `WorkspaceScreen`).

### 1.3 –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ URL –¥–ª—è API

**–§–∞–π–ª—ã:** –≤—Å–µ –≤—ã–∑–æ–≤—ã `fetch('/api/...')`

–ñ—ë—Å—Ç–∫–æ –∑–∞–¥–∞–Ω –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å. –ü—Ä–∏ –¥–µ–ø–ª–æ–µ –∑–∞ —Ñ—Ä–æ–Ω—Ç–æ–º –Ω–∞ –¥—Ä—É–≥–æ–π –¥–æ–º–µ–Ω/–ø—É—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/app/`) –∏–ª–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ API-—Ö–æ—Å—Ç–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –º–µ–Ω—è—Ç—å –º–Ω–æ–≥–æ –º–µ—Å—Ç.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í–≤–µ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `import.meta.env.VITE_API_BASE` –∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –∏–∑ `vite.config`) –∏ –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è URL –¥–ª—è REST –∏ WebSocket.

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### 2.1 –°—Ç–æ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏–∑ localStorage –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è

**–§–∞–π–ª:** `useStore.js`, —Å—Ç—Ä–æ–∫–∏ 5‚Äì7

```js
token: localStorage.getItem('auth_token') || null,
isAuthenticated: !!localStorage.getItem('auth_token'),
```

–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ `localStorage` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç–æ—Ä–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑. –ï—Å–ª–∏ –≤ –¥—Ä—É–≥–æ–π –≤–∫–ª–∞–¥–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –∏–ª–∏ —Ç–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, —ç—Ç–æ—Ç –∏–Ω—Å—Ç–∞–Ω—Å —Å—Ç–æ—Ä–∞ –Ω–µ —É–∑–Ω–∞–µ—Ç –æ–± —ç—Ç–æ–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–ª—è –º—É–ª—å—Ç–∏–≤–∫–ª–∞–¥–æ–∫ –º–æ–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ `storage` event –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–æ—Ä; –¥–ª—è —Ç–µ–∫—É—â–µ–π –æ–¥–Ω–æ–≤–∫–ª–∞–¥–∫–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.

### 2.2 –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å—Ç–æ—Ä–µ

–í `login`/`register` –≤ —Å—Ç–æ—Ä –∫–ª–∞–¥—ë—Ç—Å—è `user: { id, username }`, –∞ —Å `/api/auth/me` –ø—Ä–∏—Ö–æ–¥–∏—Ç –ø–æ–ª–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–ª–µ `user` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ —Ç–∞–º –∏ —Ç–∞–º –±–µ–∑ –µ–¥–∏–Ω–æ–π —Ñ–æ—Ä–º—ã.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–ø–∏—Å–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç `user` (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ `id`, `username`, `email`) –∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ/–∫–ª–∏–µ–Ω—Ç–µ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –æ—Ç–≤–µ—Ç `/api/auth/me` –∫ —ç—Ç–æ–º—É —Ñ–æ—Ä–º–∞—Ç—É, —á—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç ¬´–ª–∏—à–Ω–∏—Ö¬ª –ø–æ–ª–µ–π.

### 2.3 sendMessage –ø—Ä–∏ –æ—Ç–∫–ª—é—á—ë–Ω–Ω–æ–º WebSocket

**–§–∞–π–ª:** `useStore.js`, `sendMessage`

–ï—Å–ª–∏ WebSocket –æ—Ç–∫–ª—é—á—ë–Ω, –≤—ã–∑–æ–≤ `sendMessage` –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç (–Ω–µ—Ç `ws`/`wsConnected`). –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ UI –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –æ—à–∏–±–∫–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –õ–∏–±–æ –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å toast/—Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å¬ª; –ª–∏–±–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç —Å –ø–æ–º–µ—Ç–∫–æ–π ¬´–Ω–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ¬ª –∏ –¥–∞–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É –ø–æ–≤—Ç–æ—Ä–∞.

---

## 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 3.1 App.jsx

- **getDefaultLayout()** –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ `WorkspaceScreen`. –°—Ç–æ–∏—Ç –æ–±–µ—Ä–Ω—É—Ç—å –≤ `useMemo` –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É/—Ñ—É–Ω–∫—Ü–∏—é –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–ø—Å–æ–≤/—Å—Ç–µ–π—Ç–∞.
- **handleLayoutChange**: –≤ –ø—Ä–æ–¥–µ –ª—É—á—à–µ —É–±—Ä–∞—Ç—å `console.log` –∏–ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ª–æ–≥ —á–µ—Ä–µ–∑ dev-—É—Ç–∏–ª–∏—Ç—É.
- **CreateProjectScreen**: –ø—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç –±—ç–∫–µ–Ω–¥–∞ –≤ `error` –ø–æ–ø–∞–¥–∞–µ—Ç `e.message`; –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (–º–∞—Å—Å–∏–≤ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏) –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç.

### 3.2 BrowserPanel (App.jsx)

- **Select –ø–æ—Ä—Ç–æ–≤:** `value={activePort}` –∏ `setSelectedPort(e.target.value)` ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ DOM —Å—Ç—Ä–æ–∫–∞. –ï—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –æ—Ç–¥–∞—ë—Ç –ø–æ—Ä—Ç—ã —á–∏—Å–ª–∞–º–∏, –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ `activePort` –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∏—Å–ª–æ–º, –∏ —Ç–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–µ–Ω –±–∞–≥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è/–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è. –õ—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç –≤ –æ–¥–Ω–æ–º —Ç–∏–ø–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫–∞) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —á–∏—Å–ª—É —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤.
- **iframe onError:** —É iframe –Ω–µ—Ç —Å–æ–±—ã—Ç–∏—è `onError` –≤ —Å–º—ã—Å–ª–µ ¬´–Ω–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç¬ª; —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –Ω–µ –≤—Å–ø–ª—ã–≤–∞—é—Ç. –°–æ—Å—Ç–æ—è–Ω–∏–µ `error` –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è, –Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–µ–¥–∫–æ. –ò–º–µ–µ—Ç —Å–º—ã—Å–ª –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ —Ç–∞–π–º–∞—É—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ 10‚Äì15 —Å–µ–∫ —Å—á–∏—Ç–∞—Ç—å –ø—Ä–µ–≤—å—é –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º) –∏–ª–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±—ç–∫–µ–Ω–¥–∞.

### 3.3 Chat.jsx

- **–ö–ª—é—á —Å–æ–æ–±—â–µ–Ω–∏–π:** `key={msg.id}` ‚Äî id –∑–∞–¥–∞—ë—Ç—Å—è –∫–∞–∫ `Date.now()`. –ü—Ä–∏ –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤–æ–∑–º–æ–∂–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã –∫–ª—é—á–µ–π. –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π id (–Ω–∞–ø—Ä–∏–º–µ—Ä, `crypto.randomUUID()` –∏–ª–∏ —Å—á—ë—Ç—á–∏–∫ + —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å).
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏:** –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `data:image/png;base64,${...}`. MIME-—Ç–∏–ø –≤—Å–µ–≥–¥–∞ png; –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–∞–ª–∏ jpeg, –ª—É—á—à–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å/–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–∏–ø –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –µ–≥–æ.
- **–î–≤–æ–π–Ω–æ–π –≤—ã–∑–æ–≤ useStore:** –≤ –Ω–∞—á–∞–ª–µ `const { messages, sendMessage, ... } = useStore()` –∏ –Ω–∏–∂–µ `const { stopAgent } = useStore()`. –õ—É—á—à–µ –æ–¥–∏–Ω –≤—ã–∑–æ–≤ –∏ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ–≥–æ –Ω—É–∂–Ω–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –ø–ª–æ–¥–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å—Ç–æ—Ä (—Ö–æ—Ç—å Zustand –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç).
- **handleFileSelect:** –≤ —Ü–∏–∫–ª–µ `files.forEach` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `setImages(prev => [...prev, ...])` –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º `reader.onload`. –ü—Ä–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö –ø–æ—Ä—è–¥–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω; –ª—É—á—à–µ —Å–æ–±–∏—Ä–∞—Ç—å –ø—Ä–æ–º–∏—Å—ã –∏ –æ–¥–∏–Ω —Ä–∞–∑ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–µ–π—Ç —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- **removeImage:** –æ–±—ä—è–≤–ª–µ–Ω–∞, –Ω–æ –≤ —Ä–∞–∑–º–µ—Ç–∫–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Äî –Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏.

### 3.4 AgentActivity.jsx

- –ó–∞–º–µ—á–∞–Ω–∏–π –ø–æ –ª–æ–≥–∏–∫–µ –º–∞–ª–æ. –ò–º–µ–µ—Ç —Å–º—ã—Å–ª –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ã—Å–æ—Ç—É –±–ª–æ–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (—É–∂–µ –µ—Å—Ç—å `max-h-32`) –∏ –¥–æ–±–∞–≤–∏—Ç—å `title` –∏–ª–∏ `aria-label` –¥–ª—è –∫–Ω–æ–ø–æ–∫/–±–ª–æ–∫–æ–≤, –µ—Å–ª–∏ –±—É–¥–µ—à—å —É–ª—É—á—à–∞—Ç—å a11y.

### 3.5 FileTree.jsx

- **loadTree –≤ useEffect:** –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö —Ç–æ–ª—å–∫–æ `projectId`; —Å–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è `loadTree` –Ω–µ –æ–±—ë—Ä–Ω—É—Ç–∞ –≤ `useCallback` –∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–Ω–æ–≤–æ. –î–ª—è `setInterval(load, 10000)` —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–º –≤—ã–∑–æ–≤–µ ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å¬ª –ª—É—á—à–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞.
- **–ö–ª—é—á–∏ —É–∑–ª–æ–≤:** `key={child.path || idx}` ‚Äî –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `path` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–≤–µ—Ä–Ω–æ–º—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é —Ä–∞—Å–∫—Ä—ã—Ç–∏–π –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–µ—Ä–µ–≤–∞. –õ—É—á—à–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `path` –Ω–∞ –±—ç–∫–µ–Ω–¥–µ –∏–ª–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –∏–∑ –ø—É—Ç–∏ –∏ —Ç–∏–ø–∞ (file/dir).
- **getFileIcon:** –∫–ª—é—á `'package'` –¥–ª—è –∏–∫–æ–Ω–∫–∏ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è `package.json` (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—É–¥–µ—Ç `json`). –ú–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ–ª–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞ –¥–ª—è –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∏–º—ë–Ω (`package.json`, `Dockerfile` –∏ —Ç.–¥.) –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–ª—é—á.

### 3.6 Editor.jsx

- **–ó–∞–ø—Ä–æ—Å—ã –±–µ–∑ —Ç–æ–∫–µ–Ω–∞:** —Å–º. –ø. 1.1.
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ useEffect:** `useEffect(..., [projectId, filepath])` ‚Äî –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `loadFile()`, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö. ESLint –º–æ–∂–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è; –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ —ç—Ç–æ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ (–∑–∞–≤–∏—Å–∏–º —Ç–æ–ª—å–∫–æ –æ—Ç projectId –∏ filepath).
- **Monaco:** –æ–ø—Ü–∏–∏ –∑–∞–¥–∞–Ω—ã –∏ –≤ `onMount`, –∏ –≤ `options` ‚Äî —á–∞—Å—Ç—å –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è. –û—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ `options`), —á—Ç–æ–±—ã –Ω–µ –ø—É—Ç–∞—Ç—å—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏.

### 3.7 Terminal.jsx

- **–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ UI:** –≤ —Ä–∞–∑–º–µ—Ç–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `wsRef.current?.readyState === WebSocket.OPEN`. Ref –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è WebSocket –Ω–∞–¥–ø–∏—Å—å ¬´–ü–æ–¥–∫–ª—é—á–µ–Ω¬ª/¬´–û—Ç–∫–ª—é—á–µ–Ω¬ª –º–æ–∂–µ—Ç –Ω–µ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è. –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ state (–∏–ª–∏ –≤ —Å—Ç–æ—Ä–µ) –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –µ–≥–æ –≤ `onopen`/`onclose`.
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞:** —Å–≤–æ—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Backspace/Enter/Ctrl+C –∏ –∫—É—Ä—Å–æ—Ä–∞ (`currentLine`, `cursorPos`) –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —Å—Ç—Ä–µ–ª–∫–∏ –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –∏ –¥—Ä—É–≥–∏–µ —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å–∏–º–≤–æ–ª—ã. –ö—É—Ä—Å–æ—Ä –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ç—Ä–æ–∫–∏ –±—É–¥–µ—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –í–∞—Ä–∏–∞–Ω—Ç—ã: –ª–∏–±–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –≤–≤–æ–¥ –≤ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏), –ª–∏–±–æ –Ω–µ –≤–µ—Å—Ç–∏ —Å–≤–æ–π –∫—É—Ä—Å–æ—Ä –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞ –±—ç–∫–µ–Ω–¥ —Å—ã—Ä–æ–π –≤–≤–æ–¥ (–µ—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç PTY –∏ —Å–∞–º —Ä–∏—Å—É–µ—Ç –≤—ã–≤–æ–¥).
- **–û—á–∏—Å—Ç–∫–∞:** –≤ cleanup –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `ws.close()` –∏ `terminal.dispose()` ‚Äî —Ö–æ—Ä–æ—à–æ. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä—ã/–ø–æ–¥–ø–∏—Å–∫–∏ –≤–Ω—É—Ç—Ä–∏ xterm —Ç–æ–∂–µ —Å–Ω–∏–º–∞—é—Ç—Å—è (–æ–±—ã—á–Ω–æ –¥–∞, –µ—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–∏–≥–¥–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ ws).

### 3.8 Auth (Login.jsx, Register.jsx)

- –§–æ—Ä–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–≥–ª—è–¥—è—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –í Register –ø—Ä–æ–≤–µ—Ä–∫–∞ `password.length < 6` –¥—É–±–ª–∏—Ä—É–µ—Ç `minLength={6}` –Ω–∞ –∏–Ω–ø—É—Ç–µ ‚Äî –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –æ–¥–Ω—É –ø—Ä–æ–≤–µ—Ä–∫—É.
- –î–ª—è a11y: —É –∫–Ω–æ–ø–æ–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è ¬´–í–æ–π—Ç–∏¬ª/¬´–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è¬ª –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `aria-label` –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç, –∫–∞–∫ –µ—Å—Ç—å.

---

## 4. –•—É–∫–∏

### 4.1 useWebSocket.js

- **–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** `return { connected: wsRef.current?.readyState === WebSocket.OPEN }` –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ. –í –º–æ–º–µ–Ω—Ç –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ WebSocket –µ—â—ë –Ω–µ –æ—Ç–∫—Ä—ã—Ç, –ø–æ—ç—Ç–æ–º—É `connected` –±—É–¥–µ—Ç –≤—Å–µ–≥–¥–∞ `false` –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∞ –ø–æ –¥—Ä—É–≥–æ–π –ø—Ä–∏—á–∏–Ω–µ. –õ—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å `connected` –≤ state –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å –≤ `onopen`/`onclose`.
- **storeRef.current = store:** –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –≤ ref –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤–µ—Å—å –æ–±—ä–µ–∫—Ç —Å—Ç–æ—Ä–∞. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–∞–º –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ `useEffect`/`useCallback`.
- –†–µ–∫–æ–Ω–Ω–µ–∫—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 5 —Å–µ–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ `event.code !== 1000` ‚Äî —Ä–∞–∑—É–º–Ω–æ.

---

## 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å

### 5.1 XSS

- –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞ –∏ –æ—à–∏–±–∫–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç (–≤ `{msg.content}`, `{error}`). React –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ ‚Äî –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `dangerouslySetInnerHTML` —Ä–∏—Å–∫ XSS –Ω–∏–∑–∫–∏–π. –í–∞–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ —Ä–µ–Ω–¥–µ—Ä HTML –∏–∑ –æ—Ç–≤–µ—Ç–æ–≤ LLM –±–µ–∑ —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏.
- –í Editor –∫–æ–Ω—Ç–µ–Ω—Ç —Ñ–∞–π–ª–∞ –æ—Ç–¥–∞—ë—Ç—Å—è –≤ Monaco ‚Äî —ç—Ç–æ –Ω–µ DOM –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è; Monaco –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ –¥–∞–Ω–Ω—ã–µ.

### 5.2 –¢–æ–∫–µ–Ω

- –¢–æ–∫–µ–Ω –≤ `localStorage` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥; –ø—Ä–∏ —Ä–∏—Å–∫–µ XSS –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ httpOnly cookie. –î–ª—è —Ç–µ–∫—É—â–µ–π —Å—Ö–µ–º—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –∏ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–≥–æ –∫—É–¥–∞-–ª–∏–±–æ, –∫—Ä–æ–º–µ —Å–≤–æ–µ–≥–æ API.

### 5.3 –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)

- –ö–Ω–æ–ø–∫–∏ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´‚û§¬ª, ¬´üîÑ¬ª) –ª—É—á—à–µ —Å–Ω–∞–±–∂–∞—Ç—å `aria-label` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `title`.
- –°–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–ø–æ–¥–∫–ª—é—á–µ–Ω¬ª/¬´–æ—Ç–∫–ª—é—á–µ–Ω¬ª –º–æ–∂–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `aria-live` –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤.
- –ú–æ–¥–∞–ª—å–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã (Login, Register, —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞) –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ —Ä–æ–ª–∏ `dialog` –∏ –ª–æ–≤—É—à–∫—É —Ñ–æ–∫—É—Å–∞.

---

## 6. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **Lazy Terminal:** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `lazy()` ‚Äî —Ö–æ—Ä–æ—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ.
- **Zustand:** —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –≤–∏–¥–∞ `useStore(s => s.createProject)` —É–º–µ–Ω—å—à–∞—é—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã; –≤ Chat –¥–≤–∞ –≤—ã–∑–æ–≤–∞ `useStore` –ª—É—á—à–µ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å.
- **FileTree:** –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ —Ä–∞–∑ –≤ 10 —Å–µ–∫—É–Ω–¥ ‚Äî –ø—Ä–∏–µ–º–ª–µ–º–æ; –ø—Ä–∏ —Ä–æ—Å—Ç–µ —á–∏—Å–ª–∞ —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å –æ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, react-window).
- **getDefaultLayout / getPreviewPort:** –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ WorkspaceScreen; –≤—ã–Ω–µ—Å—Ç–∏ –≤ `useMemo` –∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ.

---

## 7. –°—Ç–∏–ª—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å

- **–¢–∏–ø–∏–∑–∞—Ü–∏—è:** –ø—Ä–æ–µ–∫—Ç –Ω–∞ JS –±–µ–∑ TypeScript. –î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞–≥–æ–≤ –∏ –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ TypeScript –∏–ª–∏ –∫–∞–∫ –º–∏–Ω–∏–º—É–º JSDoc —Å `@param`/`@returns` –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ API.
- **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã:** –º–∞–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ (`'editor'`, `'terminal'`, `'files'`, `'activity'`) –∏ –∫–æ–¥—ã WebSocket –º–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `PANEL_EDITOR = 'editor'`, `WS_CLOSE_NORMAL = 1000`).
- **–ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫ API:** –≤ —Å—Ç–æ—Ä–µ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –ø–æ-—Ä–∞–∑–Ω–æ–º—É –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (`error.detail`, `error.message`, `res.text()`). –ò–º–µ–µ—Ç —Å–º—ã—Å–ª –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –ø–∞—Ä—Å–∏—Ç—å –æ—Ç–≤–µ—Ç –∏ –±—Ä–æ—Å–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º `message` (–∏–ª–∏ –º–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π), —á—Ç–æ–±—ã –≤ UI –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ.

---

## 8. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∞–≤–æ–∫

1. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É —Ç–æ–∫–µ–Ω–∞ –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API (–∏–ª–∏ –æ–±—â–∏–π API-–∫–ª–∏–µ–Ω—Ç —Å —Ç–æ–∫–µ–Ω–æ–º).
2. –í–Ω–µ–¥—Ä–∏—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π Error Boundary –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤.
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ WebSocket –≤ useWebSocket –∏ –≤ Terminal (state –≤–º–µ—Å—Ç–æ ref –¥–ª—è `connected`).
4. –£–±—Ä–∞—Ç—å/–∑–∞–º–µ–Ω–∏—Ç—å `try/catch` –≤ App –Ω–∞ Error Boundary; —É–±—Ä–∞—Ç—å –∏–ª–∏ –æ–±–µ—Ä–Ω—É—Ç—å –≤ dev-—Ñ–ª–∞–≥ `console.log` –≤ handleLayoutChange.
5. –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞; –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ ‚Äî –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç MIME –¥–ª—è –ø—Ä–µ–≤—å—é.
6. –í—ã–Ω–µ—Å—Ç–∏ –±–∞–∑–æ–≤—ã–π URL API/WS –≤ –∫–æ–Ω—Ñ–∏–≥; –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø–∞–Ω–µ–ª–µ–π –∏ —Å—Ç–∞—Ç—É—Å–æ–≤.
7. –î–∞–ª—å—à–µ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É: TypeScript/JSDoc, –¥–æ—Ä–∞–±–æ—Ç–∫–∞ a11y, –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

---

*–î–æ–∫—É–º–µ–Ω—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∫–∞–∫ –∫–æ–¥-—Ä–µ–≤—å—é —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞. –ü—Ä–∏ –≤–Ω–µ—Å–µ–Ω–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–º–µ–µ—Ç —Å–º—ã—Å–ª –æ–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø—É–Ω–∫—Ç—ã.*
